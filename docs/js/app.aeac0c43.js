(function(t){function e(e){for(var a,o,i=e[0],u=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/emer2gent-datahub/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"38c8":function(t,e,r){},"479d":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("96cf");var a=r("1da1"),n=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{attrs:{id:"app"}},[r("header-nav"),r("div",{attrs:{id:"main"}},[r("router-view")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{staticClass:"hamburger",attrs:{id:"hamburger",type:"checkbox"}}),t._m(0),r("header",{staticClass:"emergent-header"},[t._m(1),r("div",{staticClass:"holder opacity"},[r("nav",[r("ul",[r("li",[r("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),r("li",[r("router-link",{attrs:{to:{path:"/catalogue"}}},[t._v("Catalogue")])],1),r("li",[r("router-link",{attrs:{to:{path:"/add"}}},[t._v("Add Data")])],1),t._m(2)])])])])])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"hamburger",attrs:{for:"hamburger"}},[r("span",{staticClass:"nv"},[t._v("Toggle menu (if not visible)")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"glory"},[r("div",{staticClass:"holder"},[r("h1",[t._v("Emer"),r("sup",[t._v("2")]),t._v("gent Alliance Data")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{attrs:{href:"https://emer2gent.org/"}},[t._v("The Alliance")])])}],c=(r("8987"),r("2877")),l={},d=Object(c["a"])(l,i,u,!1,null,"efa371a6",null),p=d.exports,f={name:"App",components:{HeaderNav:p}},h=f,v=(r("034f"),Object(c["a"])(h,s,o,!1,null,null,null)),_=v.exports,m=(r("38c8"),r("8c4f")),b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[r("h2",[t._v("Add Data")]),r("p",[t._v(" This page will allow the user to add to the index using a simple web-form. ")])])}],y={},w=Object(c["a"])(y,b,g,!1,null,null,null),x=w.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[t.$route.params.org?t._e():r("div",[r("h2",[t._v("Organisations")]),r("ul",{staticClass:"grid"},t._l(t.selectedOrgs,(function(e,a){return r("li",{key:a},[r("router-link",{staticClass:"c2-bg",attrs:{to:{path:"/catalogue/"+e}}},[r("h3",[t._v(t._s(t.$root.index[e].author))]),r("p",[t._v(t._s(t.shortDesc(t.$root.index[e].description)))])])],1)})),0)]),r("h2",[t._v(t._s(t.title))]),r("ul",{staticClass:"grid"},[t._l(t.selectedOrgs,(function(e){return t._l(t.$root.index[e].datasets,(function(a,n){return r("li",{key:n},[r("router-link",{staticClass:"c3-bg",attrs:{to:{name:"Details",params:{org:e,id:a.id}}}},[r("h3",[t._v(t._s(a.title))]),r("p",[t._v(t._s(t.shortDesc(a.description)))])])],1)}))}))],2)])},C=[],j=(r("b64b"),{name:"Catalogue",computed:{selectedOrgs:function(){return this.$route.params.org?[this.$route.params.org]:Object.keys(this.$root.index)},title:function(){return this.$route.params.org?this.$root.index[this.$route.params.org].author:"All Datasets"}},methods:{shortDesc:function(t){return t.length<175?t:"".concat(t.substring(0,175),"...")}}}),$=j,k=Object(c["a"])($,O,C,!1,null,null,null),E=k.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"holder"},[r("h2",[t._v(t._s(t.dataset.title))]),r("p",[t._v(t._s(t.dataset.description))])]),r("section",[r("div",{staticClass:"holder"},[r("a",{staticClass:"download button c2-bg",attrs:{href:t.downloadBlob}},[t._v("Raw JSON")]),r("h3",[t._v("Metadata")]),r("meta-table",{attrs:{data:t.dataset,excludedProps:["title","description","resources","references"]}})],1)]),t.dataset.resources?r("section",{attrs:{id:"resources"}},[r("div",{staticClass:"holder"},[r("h3",[t._v("Resources")]),r("ul",t._l(t.dataset.resources,(function(e,a){return r("li",{key:a},[r("a",{attrs:{href:e.url}},[r("h4",[t._v(t._s(e.title||"(no title)"))])]),e.description?r("p",[t._v(" "+t._s(e.description)+" ")]):t._e(),r("meta-table",{attrs:{data:e,excludedProps:["title","description"]}})],1)})),0)])]):t._e(),t.dataset.references?r("section",{attrs:{id:"references"}},[r("div",{staticClass:"holder"},[r("h3",[t._v("References")]),r("ul",t._l(t.dataset.references,(function(e,a){return r("li",{key:a},[r("a",{attrs:{href:e.url}},[t._v(t._s(e.url))]),r("p",[t._v(t._s(e.description))])])})),0)])]):t._e()])},P=[],A=(r("4de4"),r("7db0"),r("caad"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"odi"},t._l(t.displayProps,(function(e,a){return r("tr",{key:a},[r("th",[t._v(t._s(t.prettifyKey(e)))]),r("td",[e.includes("url")?r("a",{attrs:{href:t.data[e]}},[t._v(" "+t._s(t.data[e])+" ")]):e.includes("email")?r("a",{attrs:{href:"mailto:"+t.data[e]}},[t._v(t._s(t.data[e]))]):r("span",[t._v(t._s(t.data[e].toString()))])])])})),0)}),R=[],S=(r("ac1f"),r("2532"),r("5319"),{props:{data:{type:Object,required:!0},excludedProps:{type:Array,default:function(){return[]}}},computed:{displayProps:function(){var t=this;return Object.keys(this.data).filter((function(e){return!t.excludedProps.includes(e)}))}},methods:{prettifyKey:function(t){t.includes("_")&&(t=t.replace(/_/g," "));var e=t.substring(0,1);return e.toUpperCase()+t.substring(1)}}}),T=S,M=(r("ac11"),Object(c["a"])(T,A,R,!1,null,null,null)),H=M.exports,J={name:"Dataset",components:{MetaTable:H},data:function(){return{resourceDetailStates:{}}},computed:{tableProps:function(){var t=["title","description","resources","references"];return Object.keys(this.dataset).filter((function(e){return!t.includes(e)}))},dataset:function(){var t=this.$route.params.org,e=this.$route.params.id;return this.$root.index[t].datasets.find((function(t){return t.id===e}))},downloadBlob:function(){var t=JSON.stringify(this.dataset,null,2),e=new Blob([t],{type:"application/json"});return window.URL.createObjectURL(e)}}},B=J,I=(r("d07f"),Object(c["a"])(B,D,P,!1,null,"58ed96db",null)),N=I.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[t._m(0),r("ul",{staticClass:"grid"},[r("li",[r("router-link",{staticClass:"s1-bg",attrs:{to:{path:"/catalogue"}}},[r("h2",[t._v("Catalogue")]),r("p",[t._v("A catalogue of contributing organisations and datasets.")])])],1),r("li",[r("router-link",{staticClass:"s1-bg",attrs:{to:{path:"/add"}}},[r("h2",[t._v("Add Data")]),r("p",[t._v(" A simple tool to allow you to easily contribute datasets to the catalogue. ")])])],1),t._m(1)])])},K=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"padded c3-bg",attrs:{id:"top"}},[r("h2",[t._v("Data Hub")]),r("p",[t._v(" This page has been set up to collate and share data resources being used or produced by members of the "),r("a",{attrs:{href:"https://emer2gent.org"}},[t._v("Emergent Alliance")]),t._v(". It is powered by a distributed set of index files, which you can read more about on our "),r("a",{attrs:{href:"https://github.com/odileeds/emer2gent-data"}},[t._v("GitHub repository")]),t._v(". ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"s1-bg",attrs:{href:"https://odileeds.github.io/emer2gent-data"}},[r("h2",[t._v("More Info")]),r("p",[t._v(" Information about how this site works and how you can create your own index file to add to this catalogue. ")])])])}],L=(r("ba6d"),{}),q=Object(c["a"])(L,U,K,!1,null,null,null),G=q.exports;n["a"].use(m["a"]);var z=[{path:"/",name:"Home",component:G},{path:"/catalogue",name:"Catalogue",component:E},{path:"/catalogue/:org",name:"Catalogue",component:E},{path:"/catalogue/:org/:id",name:"Details",component:N},{path:"/add",name:"Add Data",component:x}],F=new m["a"]({routes:z}),Q=F,V=(r("4fad"),r("3835")),W=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function X(){return Y.apply(this,arguments)}function Y(){return Y=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,r,a,n,s,o,i,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W("https://raw.githubusercontent.com/odileeds/emer2gent-data/master/index.json");case 2:e=t.sent,r={},a=0,n=Object.entries(e);case 5:if(!(a<n.length)){t.next=17;break}return s=Object(V["a"])(n[a],2),o=s[0],i=s[1],u=i.index,t.next=10,W(u);case 10:c=t.sent,r[o]=i,r[o]["version"]=c.version,r[o]["datasets"]=c.datasets;case 14:a++,t.next=5;break;case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function Z(){return tt.apply(this,arguments)}function tt(){return tt=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X();case 2:e=t.sent,new n["a"]({data:{index:e},router:Q,render:function(t){return t(_)}}).$mount("#app");case 4:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}n["a"].config.productionTip=!1,Z()},"85ec":function(t,e,r){},8987:function(t,e,r){"use strict";var a=r("9924"),n=r.n(a);n.a},9924:function(t,e,r){},a473:function(t,e,r){},ac11:function(t,e,r){"use strict";var a=r("e9f9"),n=r.n(a);n.a},ba6d:function(t,e,r){"use strict";var a=r("a473"),n=r.n(a);n.a},d07f:function(t,e,r){"use strict";var a=r("479d"),n=r.n(a);n.a},e9f9:function(t,e,r){}});
//# sourceMappingURL=app.aeac0c43.js.map