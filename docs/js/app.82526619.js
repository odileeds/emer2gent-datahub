(function(t){function e(e){for(var a,o,i=e[0],u=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},s=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/emer2gent-datahub/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"0f41":function(t,e,r){},"324f":function(t,e){t.exports=brutusin},"38c8":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("d3b7"),r("3ca3"),r("ddb0");var a=r("3835"),n=(r("96cf"),r("1da1")),s=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{attrs:{id:"app"}},[r("header-nav"),r("div",{attrs:{id:"main"}},[r("router-view")],1)],1)},i=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{staticClass:"hamburger",attrs:{id:"hamburger",type:"checkbox"}}),t._m(0),r("header",{staticClass:"emergent-header"},[t._m(1),r("div",{staticClass:"holder opacity"},[r("nav",[r("ul",[r("li",[r("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),r("li",[r("router-link",{attrs:{to:{path:"/catalogue"}}},[t._v("Catalogue")])],1),r("li",[r("router-link",{attrs:{to:{path:"/add"}}},[t._v("Add Data")])],1),t._m(2)])])])])])},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"hamburger",attrs:{for:"hamburger"}},[r("span",{staticClass:"nv"},[t._v("Toggle menu (if not visible)")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"glory"},[r("div",{staticClass:"holder"},[r("h1",[t._v("Emer"),r("sup",[t._v("2")]),t._v("gent Alliance Data")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{attrs:{href:"https://emer2gent.org/"}},[t._v("The Alliance")])])}],l=(r("8987"),r("2877")),d={},p=Object(l["a"])(d,u,c,!1,null,"efa371a6",null),f=p.exports,h={name:"App",components:{HeaderNav:f}},v=h,m=(r("034f"),Object(l["a"])(v,o,i,!1,null,null,null)),b=m.exports,_=(r("38c8"),r("8c4f")),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[r("h2",[t._v("Add Data")]),r("p",[t._v(" This page allows you to enter details about a dataset and submit them to our public index, or download your input as JSON, so that you can manually add it to your own index. ")]),r("div",{ref:"formContainer"}),r("div",{staticClass:"submit"},[r("button",{staticClass:"c3-bg",attrs:{type:"button"},on:{click:function(e){return t.submit()}}},[t._v(" Submit to public Index ")]),r("button",{attrs:{type:"button"},on:{click:function(e){return t.download()}}},[t._v(" Download as JSON ")]),r("a",{ref:"downloadLink",staticStyle:{display:"none"},attrs:{download:"dataset-index-entry.json",target:"_blank"}})])])},y=[],w=r("324f"),x=r.n(w);r("c71d");function O(t){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="https://enu6y93k0xccf9v.m.pipedream.net",a=JSON.stringify(e),n=new Headers,n.append("Content-Type","application/json"),s={method:"POST",headers:n,mode:"cors",body:a},t.next=7,fetch(r,s);case 7:return o=t.sent,t.abrupt("return",o.status);case 9:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}var C={data:function(){return{form:null,formData:{}}},mounted:function(){var t=x.a["json-forms"];this.form=t.create(this.$root.schema.properties.datasets.items),this.form.render(this.$refs.formContainer)},methods:{submit:function(){var t=this.form.validate();t&&O(this.form.getData())},download:function(){var t=this.form.validate();if(t){var e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.form.getData()));this.$refs.downloadLink.setAttribute("href",e),this.$refs.downloadLink.click()}}}},j=C,$=(r("6b19"),Object(l["a"])(j,g,y,!1,null,null,null)),D=$.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[t.$route.params.org?t._e():r("div",[r("h2",[t._v("Organisations")]),r("ul",{staticClass:"grid"},t._l(t.selectedOrgs,(function(e,a){return r("li",{key:a},[r("router-link",{staticClass:"c2-bg",attrs:{to:{path:"/catalogue/"+e}}},[r("h3",[t._v(t._s(t.$root.index[e].author))]),r("p",[t._v(t._s(t.shortDesc(t.$root.index[e].description)))])])],1)})),0)]),r("h2",[t._v(t._s(t.title))]),r("ul",{staticClass:"grid"},[t._l(t.selectedOrgs,(function(e){return t._l(t.$root.index[e].datasets,(function(a,n){return r("li",{key:n},[r("router-link",{staticClass:"c3-bg",attrs:{to:{name:"Details",params:{org:e,id:a.id}}}},[r("h3",[t._v(t._s(a.title))]),r("p",[t._v(t._s(t.shortDesc(a.description)))])])],1)}))}))],2)])},R=[],S=(r("b64b"),{name:"Catalogue",computed:{selectedOrgs:function(){return this.$route.params.org?[this.$route.params.org]:Object.keys(this.$root.index)},title:function(){return this.$route.params.org?this.$root.index[this.$route.params.org].author:"All Datasets"}},methods:{shortDesc:function(t){return t.length<175?t:"".concat(t.substring(0,175),"...")}}}),E=S,A=Object(l["a"])(E,P,R,!1,null,null,null),T=A.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"holder"},[r("h2",[t._v(t._s(t.dataset.title))]),r("p",[t._v(t._s(t.dataset.description))]),r("button",{staticClass:"s1-bg",attrs:{id:"back"},on:{click:function(){return t.$router.go(-1)}}},[t._v(" Back ")])]),r("section",[r("div",{staticClass:"holder"},[r("a",{staticClass:"download button c2-bg",attrs:{href:t.downloadBlob}},[t._v("Raw JSON")]),r("h3",[t._v("Metadata")]),r("meta-table",{attrs:{data:t.dataset,excludedProps:["title","description","resources","references"]}})],1)]),t.dataset.resources?r("section",{attrs:{id:"resources"}},[r("div",{staticClass:"holder"},[r("h3",[t._v("Resources")]),r("ul",t._l(t.dataset.resources,(function(e,a){return r("li",{key:a},[r("a",{attrs:{href:e.url}},[r("h4",[t._v(t._s(e.title||"(no title)"))])]),e.description?r("p",[t._v(" "+t._s(e.description)+" ")]):t._e(),r("meta-table",{attrs:{data:e,excludedProps:["title","description"]}})],1)})),0)])]):t._e(),t.dataset.references?r("section",{attrs:{id:"references"}},[r("div",{staticClass:"holder"},[r("h3",[t._v("References")]),r("ul",t._l(t.dataset.references,(function(e,a){return r("li",{key:a},[r("a",{attrs:{href:e.url}},[t._v(t._s(e.url))]),r("p",[t._v(t._s(e.description))])])})),0)])]):t._e()])},M=[],N=(r("4de4"),r("7db0"),r("caad"),r("2b3d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"odi"},t._l(t.displayProps,(function(e,a){return r("tr",{key:a},[r("th",[t._v(t._s(t.prettifyKey(e)))]),r("td",[e.includes("url")?r("a",{attrs:{href:t.data[e]}},[t._v(" "+t._s(t.data[e])+" ")]):e.includes("email")?r("a",{attrs:{href:"mailto:"+t.data[e]}},[t._v(t._s(t.data[e]))]):r("span",[t._v(t._s(t.data[e].toString()))])])])})),0)}),H=[],I=(r("ac1f"),r("2532"),r("5319"),{props:{data:{type:Object,required:!0},excludedProps:{type:Array,default:function(){return[]}}},computed:{displayProps:function(){var t=this;return Object.keys(this.data).filter((function(e){return!t.excludedProps.includes(e)}))}},methods:{prettifyKey:function(t){t.includes("_")&&(t=t.replace(/_/g," "));var e=t.substring(0,1);return e.toUpperCase()+t.substring(1)}}}),L=I,B=(r("ac11"),Object(l["a"])(L,N,H,!1,null,null,null)),U=B.exports,K={name:"Dataset",components:{MetaTable:U},data:function(){return{resourceDetailStates:{}}},computed:{tableProps:function(){var t=["title","description","resources","references"];return Object.keys(this.dataset).filter((function(e){return!t.includes(e)}))},dataset:function(){var t=this.$route.params.org,e=this.$route.params.id;return this.$root.index[t].datasets.find((function(t){return t.id===e}))},downloadBlob:function(){var t=JSON.stringify(this.dataset,null,2),e=new Blob([t],{type:"application/json"});return window.URL.createObjectURL(e)}}},q=K,G=(r("7ac1"),Object(l["a"])(q,J,M,!1,null,"a93a5ba4",null)),z=G.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[t._m(0),r("ul",{staticClass:"grid"},[r("li",[r("router-link",{staticClass:"s1-bg",attrs:{to:{path:"/catalogue"}}},[r("h2",[t._v("Catalogue")]),r("p",[t._v("A catalogue of contributing organisations and datasets.")])])],1),r("li",[r("router-link",{staticClass:"s1-bg",attrs:{to:{path:"/add"}}},[r("h2",[t._v("Add Data")]),r("p",[t._v(" A simple tool to allow you to easily contribute datasets to the catalogue. ")])])],1),t._m(1)])])},Q=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"padded c3-bg",attrs:{id:"top"}},[r("h2",[t._v("Data Hub")]),r("p",[t._v(" This page has been set up to collate and share data resources being used or produced by members of the "),r("a",{attrs:{href:"https://emer2gent.org"}},[t._v("Emergent Alliance")]),t._v(". It is powered by a distributed set of index files, which you can read more about on our "),r("a",{attrs:{href:"https://github.com/odileeds/emer2gent-data"}},[t._v("GitHub repository")]),t._v(". ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"s1-bg",attrs:{href:"https://odileeds.github.io/emer2gent-data"}},[r("h2",[t._v("More Info")]),r("p",[t._v(" Information about how this site works and how you can create your own index file to add to this catalogue. ")])])])}],V=(r("ba6d"),{}),W=Object(l["a"])(V,F,Q,!1,null,null,null),X=W.exports;s["a"].use(_["a"]);var Y=[{path:"/",name:"Home",component:X},{path:"/catalogue",name:"Catalogue",component:T},{path:"/catalogue/:org",name:"Catalogue",component:T},{path:"/catalogue/:org/:id",name:"Details",component:z},{path:"/add",name:"Add Data",component:D}],Z=new _["a"]({routes:Y}),tt=Z,et=(r("4fad"),function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());function rt(){return at.apply(this,arguments)}function at(){return at=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,et("https://raw.githubusercontent.com/odileeds/emer2gent-data/master/schemas/subindex-v1.0.json");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),at.apply(this,arguments)}function nt(){return st.apply(this,arguments)}function st(){return st=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,n,s,o,i,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,et("https://raw.githubusercontent.com/odileeds/emer2gent-data/master/index.json");case 2:e=t.sent,r={},n=0,s=Object.entries(e);case 5:if(!(n<s.length)){t.next=17;break}return o=Object(a["a"])(s[n],2),i=o[0],u=o[1],c=u.index,t.next=10,et(c);case 10:l=t.sent,r[i]=u,r[i]["version"]=l.version,r[i]["datasets"]=l.datasets;case 14:n++,t.next=5;break;case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}}),t)}))),st.apply(this,arguments)}function ot(){return it.apply(this,arguments)}function it(){return it=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([nt(),rt()]);case 2:e=t.sent,r=Object(a["a"])(e,2),n=r[0],o=r[1],new s["a"]({data:{index:n,schema:o},router:tt,render:function(t){return t(b)}}).$mount("#app");case 7:case"end":return t.stop()}}),t)}))),it.apply(this,arguments)}s["a"].config.productionTip=!1,ot()},"6b19":function(t,e,r){"use strict";var a=r("ca15"),n=r.n(a);n.a},"7ac1":function(t,e,r){"use strict";var a=r("0f41"),n=r.n(a);n.a},"85ec":function(t,e,r){},8987:function(t,e,r){"use strict";var a=r("9924"),n=r.n(a);n.a},9924:function(t,e,r){},a473:function(t,e,r){},ac11:function(t,e,r){"use strict";var a=r("e9f9"),n=r.n(a);n.a},ba6d:function(t,e,r){"use strict";var a=r("a473"),n=r.n(a);n.a},ca15:function(t,e,r){},e9f9:function(t,e,r){}});
//# sourceMappingURL=app.82526619.js.map